<div class="loading-box" *ngIf="loading">
  <div class="content">
    <mat-spinner diameter="72" strokeWidth="10"></mat-spinner>
    <p class="tip" *ngIf="loadingMsg">{{ loadingMsg | translate | async }}</p>
  </div>
</div>
<section class="container">
  <div class="bridge-content">
    <p class="label">{{ "YourWithdraw" | translate | async }}</p>
    <p class="amount">
      <span>{{ bridgeAmount }}</span>
      <span class="symbol">{{ bridgeAsset.symbol }}</span>
      <span *ngIf="bridgeAsset?.rateBalance" class="currency">
        $ {{ bridgeAsset.rateBalance }}
      </span>
    </p>
    <p class="label from">{{ "FromAddress" | translate | async }}</p>
    <p class="address">
      {{ currentWallet.accounts[0].address | longStr : 12 }}
      <copy [value]="currentWallet.accounts[0].address">
        <img class="copy" theme src="assets/images/common/copy.svg" alt="" />
      </copy>
    </p>
    <img class="arrow" src="/assets/images/bridge/arrow.svg" alt="" />
    <p class="label">{{ "YourNeo3ReceiveAddress" | translate | async }}</p>
    <p class="address">
      {{ toAddress | longStr : 12 }}
      <copy [value]="toAddress">
        <img class="copy" theme src="assets/images/common/copy.svg" alt="" />
      </copy>
    </p>
  </div>
  <div class="tabs-container">
    <span
      [class]="{ selected: tabType === 'details' }"
      (click)="tabType = 'details'"
    >
      {{ "details" | translate | async }}
    </span>
    <span [class]="{ selected: tabType === 'data' }" (click)="tabType = 'data'">
      {{ "data" | translate | async }}
    </span>
  </div>
  <ul class="details-content" *ngIf="tabType === 'details'">
    <evm-fee
      [txParams]="txParams"
      [symbol]="bridgeAsset.symbol"
      [customNeoXFeeInfo]="neoXFeeInfo"
      [place]="'dapp'"
      (returnFee)="updateEvmFee($event)"
    >
    </evm-fee>
    <li>
      <div class="row evm">
        <div class="label">
          <p>{{ "TOTAL" | translate | async }}</p>
          <p class="label tip">
            {{ "amount" | translate | async }} +
            {{ "GASFEE" | translate | async }}
          </p>
        </div>
        <p class="value">
          {{ totalAmount | numberFixed : 8 }} {{ bridgeAsset.symbol }}
        </p>
      </div>
    </li>
  </ul>
  <div class="data-content" *ngIf="tabType === 'data'">
    <p class="title">FUNCTION TYPE: <span class="value">withdrawGas</span></p>
    <p class="title hex">HEX DATA: {{ hexDataLength }} BYTES</p>
    <p class="json-box serialize">{{ txParams.data }}</p>
  </div>
  <div class="btn-group">
    <button class="cancel" (click)="cancel()">
      {{ "cancel" | translate | async }}
    </button>
    <button
      class="confirm"
      [ngClass]="{ disabled: loading }"
      (click)="confirm()"
    >
      {{ "yes" | translate | async }}
    </button>
  </div>
</section>
